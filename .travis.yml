language: cpp
  
matrix:
  include:
  - env:
    - OCPN_TARGET=stretch-armhf
    - OCPN_BRANCH=master
    - DOCKER_IMAGE=raspbian/stretch
    services:
    - docker
    script:
    - "chmod 755 ./ci/*.sh"
    - "./ci/travis-build-raspbian-armhf.sh"
    - "cd build; bash < upload.sh"
    os: Linux
    dist: focal

branches:
  only:
    - master
    - build

